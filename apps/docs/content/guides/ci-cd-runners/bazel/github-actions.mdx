---
title: 'GitHub Actions'
---

Integrate Bazel builds with GitHub Actions using CI/CD Runners.

## Overview

CI/CD Runners provide seamless integration for Bazel builds in GitHub Actions workflows, combining remote caching and execution for optimal performance.

## Basic Setup

Configure Bazel with CI/CD Runners in GitHub Actions:

```yaml
name: Bazel Build

on: [push, pull_request]

jobs:
  build:
    runs-on: self-hosted
    steps:
      - uses: actions/checkout@v3
      - name: Set up Bazel
        uses: bazel-contrib/setup-bazel@v0.8.1
      - name: Configure Remote Cache
        run: |
          echo "build --remote_cache=${{ secrets.BAZEL_CACHE_ENDPOINT }}" >> .bazelrc
          echo "build --remote_header=x-api-key=${{ secrets.BAZEL_CACHE_TOKEN }}" >> .bazelrc
      - name: Build
        run: bazel build //...
      - name: Test
        run: bazel test //...
```

## Remote Caching and Execution

Use both remote caching and execution:

```yaml
jobs:
  build:
    runs-on: self-hosted
    steps:
      - uses: actions/checkout@v3
      - name: Set up Bazel
        uses: bazel-contrib/setup-bazel@v0.8.1
      - name: Configure Remote Cache and Execution
        run: |
          echo "build --remote_cache=${{ secrets.BAZEL_CACHE_ENDPOINT }}" >> .bazelrc
          echo "build --remote_executor=${{ secrets.BAZEL_EXEC_ENDPOINT }}" >> .bazelrc
          echo "build --remote_header=x-api-key=${{ secrets.BAZEL_TOKEN }}" >> .bazelrc
          echo "build --remote_instance_name=${{ github.repository }}" >> .bazelrc
      - name: Build
        run: bazel build //...
```

## Matrix Builds

Test multiple configurations:

```yaml
strategy:
  matrix:
    platform: [linux, macos, windows]

jobs:
  build:
    runs-on: self-hosted-${{ matrix.platform }}
    steps:
      - uses: actions/checkout@v3
      - name: Set up Bazel
        uses: bazel-contrib/setup-bazel@v0.8.1
      - name: Build
        run: bazel build //...
```

## Caching Strategy

Optimize cache usage:

```yaml
steps:
  - name: Configure Cache
    run: |
      echo "build --remote_cache=${{ secrets.BAZEL_CACHE_ENDPOINT }}" >> .bazelrc
      echo "build --remote_header=x-api-key=${{ secrets.BAZEL_CACHE_TOKEN }}" >> .bazelrc
      echo "build --remote_instance_name=${{ github.repository }}-${{ github.ref }}" >> .bazelrc
```

## Best Practices

- Use secrets for authentication tokens
- Configure appropriate cache instance names
- Use matrix builds for multi-platform testing
- Monitor build times and cache hit rates
- Set up workflows for different build types (build, test, lint)

## Advanced Configuration

Configure for specific use cases:

```yaml
steps:
  - name: Configure Advanced Options
    run: |
      echo "build --remote_cache=${{ secrets.BAZEL_CACHE_ENDPOINT }}" >> .bazelrc
      echo "build --remote_executor=${{ secrets.BAZEL_EXEC_ENDPOINT }}" >> .bazelrc
      echo "build --remote_header=x-api-key=${{ secrets.BAZEL_TOKEN }}" >> .bazelrc
      echo "build --remote_timeout=600" >> .bazelrc
      echo "build --jobs=100" >> .bazelrc
      echo "build --remote_max_connections=100" >> .bazelrc
```

## Troubleshooting

Common issues and solutions:

- **Authentication failures**: Verify secrets are configured correctly
- **Cache misses**: Check cache endpoint and instance names
- **Slow builds**: Verify remote execution is enabled and configured
- **Timeout errors**: Increase timeout values or optimize build actions
