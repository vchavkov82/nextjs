/* ─────────────────────────────────────────────────────────────
   Navigation & Dropdown Menu Styles - Modern Design System
   ───────────────────────────────────────────────────────────── */

/* Navigation Menu Container */
[role="menubar"],
.navigation-menu {
  background: var(--ds-bg);
  border-bottom: 1px solid var(--ds-border);
  backdrop-filter: blur(10px);
  background-color: rgba(255, 255, 255, 0.8);
}

@media (prefers-color-scheme: dark) {
  [role="menubar"],
  .navigation-menu {
    background-color: rgba(15, 23, 42, 0.8);
  }
}

/* ─────────────────────────────────────────────────────────────
   Dropdown Menu Content
   ───────────────────────────────────────────────────────────── */

/* Main dropdown container */
[role="menu"],
.navigation-menu__content {
  background: var(--ds-bg);
  border: 1px solid var(--ds-border);
  border-radius: var(--ds-radius-lg);
  box-shadow: var(--ds-shadow-xl);
  padding: 0;
  margin-top: 8px;
}

/* Two-column layout in dropdowns */
[role="menu"] > div,
.dropdown-grid {
  display: flex;
  flex-direction: row;
  gap: 0;
}

/* Left column */
[role="menu"] > div > div:first-child,
.dropdown-left {
  flex: 1;
  padding: var(--ds-spacing-6);
  border-right: 1px solid var(--ds-border);
}

/* Right column */
[role="menu"] > div > div:last-child,
.dropdown-right {
  flex: 1;
  padding: var(--ds-spacing-6);
  background: var(--ds-bg-secondary);
  border-radius: 0 var(--ds-radius-lg) var(--ds-radius-lg) 0;
}

/* ─────────────────────────────────────────────────────────────
   Menu Trigger Button (Dropdown Toggle)
   ───────────────────────────────────────────────────────────── */

[role="menuitem"],
.navigation-menu__trigger {
  background: transparent;
  color: var(--ds-text-secondary);
  padding: var(--ds-spacing-2) var(--ds-spacing-3);
  border: none;
  border-radius: var(--ds-radius-md);
  font-size: var(--ds-text-sm);
  font-weight: var(--ds-font-weight-medium);
  cursor: pointer;
  transition: all var(--ds-transition-normal);
  font-family: var(--ds-font-sans);
}

[role="menuitem"]:hover,
.navigation-menu__trigger:hover {
  background: var(--ds-bg-secondary);
  color: var(--ds-text);
}

[role="menuitem"][aria-expanded="true"],
.navigation-menu__trigger[aria-expanded="true"] {
  background: var(--ds-primary);
  color: var(--ds-white);
}

[role="menuitem"]:focus,
[role="menuitem"]:focus-visible,
.navigation-menu__trigger:focus,
.navigation-menu__trigger:focus-visible {
  outline: none;
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}

/* ─────────────────────────────────────────────────────────────
   Menu Items & Links
   ───────────────────────────────────────────────────────────── */

/* Menu item */
[role="menuitem"] a,
.menu-item,
.navigation-menu__item {
  display: flex;
  align-items: flex-start;
  gap: var(--ds-spacing-3);
  padding: var(--ds-spacing-3);
  margin-bottom: var(--ds-spacing-2);
  text-decoration: none;
  border-radius: var(--ds-radius-md);
  transition: all var(--ds-transition-normal);
}

[role="menuitem"] a:last-child,
.menu-item:last-child,
.navigation-menu__item:last-child {
  margin-bottom: 0;
}

/* Menu item hover state */
[role="menuitem"] a:hover,
.menu-item:hover,
.navigation-menu__item:hover {
  background: var(--ds-bg-secondary);
}

/* Menu item text */
[role="menuitem"] a > *:last-child,
.menu-item-content {
  flex: 1;
}

[role="menuitem"] a p,
.menu-item-title {
  color: var(--ds-text);
  font-weight: var(--ds-font-weight-medium);
  margin: 0;
  font-size: var(--ds-text-sm);
}

[role="menuitem"] a span,
.menu-item-description {
  color: var(--ds-text-secondary);
  font-size: var(--ds-text-xs);
  margin: var(--ds-spacing-1) 0 0 0;
  line-height: var(--ds-line-height-normal);
}

/* Menu item icon */
[role="menuitem"] a svg,
.menu-item-icon {
  width: 32px;
  height: 32px;
  min-width: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--ds-bg-secondary);
  border: 1px solid var(--ds-border);
  border-radius: var(--ds-radius-md);
  color: var(--ds-text-secondary);
  flex-shrink: 0;
  transition: all var(--ds-transition-normal);
}

[role="menuitem"] a:hover svg,
.menu-item:hover .menu-item-icon {
  background: var(--ds-primary);
  border-color: var(--ds-primary);
  color: var(--ds-white);
}

/* ─────────────────────────────────────────────────────────────
   Section Headers in Dropdowns
   ───────────────────────────────────────────────────────────── */

.dropdown-section-title,
[role="menu"] .section-label {
  color: var(--ds-text-muted);
  font-size: var(--ds-text-xs);
  font-weight: var(--ds-font-weight-semibold);
  text-transform: uppercase;
  letter-spacing: 0.1em;
  margin-bottom: var(--ds-spacing-3);
  margin-top: 0;
  font-family: var(--ds-font-mono);
}

.dropdown-section-title:not(:first-child),
[role="menu"] .section-label:not(:first-child) {
  margin-top: var(--ds-spacing-6);
  padding-top: var(--ds-spacing-6);
  border-top: 1px solid var(--ds-border);
}

/* ─────────────────────────────────────────────────────────────
   Chevron/Arrow Icons
   ───────────────────────────────────────────────────────────── */

.chevron-icon,
[role="menuitem"] svg.chevron,
.menu-item svg.chevron {
  width: 16px;
  height: 16px;
  color: var(--ds-primary);
  transition: transform var(--ds-transition-normal), opacity var(--ds-transition-normal);
  opacity: 0;
  transform: translateX(-4px);
  margin-left: auto;
  flex-shrink: 0;
}

[role="menuitem"] a:hover .chevron-icon,
.menu-item:hover .chevron-icon,
[role="menuitem"]:hover svg.chevron,
.menu-item:hover svg.chevron {
  opacity: 1;
  transform: translateX(0);
}

/* ─────────────────────────────────────────────────────────────
   Right Column Features (Customer Stories, Comparisons, etc.)
   ───────────────────────────────────────────────────────────── */

.dropdown-featured,
[role="menu"] .featured-section {
  display: flex;
  flex-direction: column;
  gap: var(--ds-spacing-6);
}

.featured-item {
  display: flex;
  align-items: center;
  gap: var(--ds-spacing-3);
  text-decoration: none;
  transition: all var(--ds-transition-normal);
}

.featured-item:hover {
  opacity: 0.8;
}

.featured-image {
  width: 64px;
  height: 56px;
  border-radius: var(--ds-radius-md);
  background: var(--ds-bg);
  border: 1px solid var(--ds-border);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  overflow: hidden;
}

.featured-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.featured-text {
  flex: 1;
}

.featured-title {
  color: var(--ds-text);
  font-size: var(--ds-text-sm);
  font-weight: var(--ds-font-weight-medium);
  margin: 0;
}

.featured-description {
  color: var(--ds-text-secondary);
  font-size: var(--ds-text-xs);
  margin: var(--ds-spacing-1) 0 0 0;
}

/* ─────────────────────────────────────────────────────────────
   Secondary Links Section
   ───────────────────────────────────────────────────────────── */

.dropdown-links,
[role="menu"] .links-section {
  display: flex;
  flex-direction: column;
  gap: var(--ds-spacing-2);
}

.dropdown-link,
.dropdown-links a {
  color: var(--ds-text-secondary);
  text-decoration: none;
  font-size: var(--ds-text-sm);
  padding: var(--ds-spacing-2);
  border-radius: var(--ds-radius-md);
  transition: all var(--ds-transition-normal);
  display: flex;
  align-items: center;
  gap: var(--ds-spacing-2);
}

.dropdown-link:hover,
.dropdown-links a:hover {
  color: var(--ds-text);
  background: var(--ds-bg-secondary);
}

.dropdown-link:focus,
.dropdown-link:focus-visible,
.dropdown-links a:focus,
.dropdown-links a:focus-visible {
  outline: none;
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}

/* ─────────────────────────────────────────────────────────────
   Responsive - Tablet/Mobile Adjustments
   ───────────────────────────────────────────────────────────── */

@media (max-width: 1023px) {
  /* Stack columns on mobile */
  [role="menu"] > div,
  .dropdown-grid {
    flex-direction: column;
  }

  [role="menu"] > div > div:first-child,
  .dropdown-left {
    border-right: none;
    border-bottom: 1px solid var(--ds-border);
  }

  [role="menu"] > div > div:last-child,
  .dropdown-right {
    border-radius: 0 0 var(--ds-radius-lg) var(--ds-radius-lg);
  }

  /* Adjust padding on mobile */
  [role="menu"] > div > div,
  .dropdown-left,
  .dropdown-right {
    padding: var(--ds-spacing-4);
  }
}

/* ─────────────────────────────────────────────────────────────
   Animations
   ───────────────────────────────────────────────────────────── */

@keyframes dropdownSlideDown {
  from {
    opacity: 0;
    transform: translateY(-8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

[role="menu"],
.navigation-menu__content {
  animation: dropdownSlideDown 200ms ease-out;
}

/* ─────────────────────────────────────────────────────────────
   Accessibility
   ───────────────────────────────────────────────────────────── */

/* High contrast mode */
@media (prefers-contrast: more) {
  [role="menuitem"],
  .navigation-menu__trigger {
    border: 1px solid transparent;
  }

  [role="menuitem"]:hover,
  .navigation-menu__trigger:hover {
    border-color: var(--ds-text);
  }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  [role="menu"],
  [role="menuitem"],
  .chevron-icon,
  .navigation-menu__content,
  .navigation-menu__trigger {
    transition: none;
    animation: none;
  }
}

/* Focus visible for keyboard navigation */
[role="menu"] [role="menuitem"]:focus-visible {
  outline: 2px solid var(--ds-primary);
  outline-offset: 2px;
}

/* ─────────────────────────────────────────────────────────────
   Print Styles
   ───────────────────────────────────────────────────────────── */

@media print {
  [role="menubar"],
  .navigation-menu,
  [role="menu"],
  .navigation-menu__content {
    display: none;
  }
}
