/* ─────────────────────────────────────────────────────────────
   Supabase Theme Fixes
   Uses --color-* variables from theme CSS files
   ───────────────────────────────────────────────────────────── */

/* ─────────────────────────────────────────────────────────────
   Navigation Menu Viewport - Critical Positioning Fix
   ───────────────────────────────────────────────────────────── */

/* Ensure the viewport is positioned correctly and above other content */
[data-radix-navigation-menu-viewport] {
  z-index: 50 !important;
}

/* The viewport's parent container (absolute positioned wrapper) */
[data-radix-navigation-menu-root] > div:last-child {
  z-index: 50 !important;
}

/* Navigation root needs proper stacking */
[data-radix-navigation-menu-root] {
  position: relative;
  z-index: 50;
}

/* ─────────────────────────────────────────────────────────────
   Navigation Trigger States
   ───────────────────────────────────────────────────────────── */

/* Open state - use brand color (Supabase green) */
[data-radix-collection-item][data-state="open"] {
  color: hsl(var(--color-brand)) !important;
}

/* ─────────────────────────────────────────────────────────────
   Dropdown Styling - Using theme variables
   ───────────────────────────────────────────────────────────── */

/* Navigation viewport styling */
[data-radix-navigation-menu-viewport] {
  background-color: hsl(var(--color-background-default)) !important;
  border: 1px solid hsl(var(--color-border-default)) !important;
  border-radius: 12px;
  box-shadow:
    0 4px 6px -1px rgba(0, 0, 0, 0.1),
    0 2px 4px -1px rgba(0, 0, 0, 0.06),
    0 20px 25px -5px rgba(0, 0, 0, 0.1);
  overflow: hidden;
}

/* Dark mode shadow adjustment */
.dark [data-radix-navigation-menu-viewport],
[data-theme="dark"] [data-radix-navigation-menu-viewport] {
  box-shadow:
    0 4px 6px -1px rgba(0, 0, 0, 0.3),
    0 2px 4px -1px rgba(0, 0, 0, 0.2),
    0 20px 25px -5px rgba(0, 0, 0, 0.4);
}

/* Menu item hover states */
[data-radix-navigation-menu-content] a:hover {
  background-color: hsl(var(--color-background-surface-100));
}

/* ─────────────────────────────────────────────────────────────
   Smooth Transitions (Scoped)
   ───────────────────────────────────────────────────────────── */

/* Only apply to navigation elements */
[data-radix-navigation-menu-root] a,
[data-radix-navigation-menu-root] button,
[data-radix-collection-item] {
  transition: color 0.15s ease, background-color 0.15s ease, border-color 0.15s ease;
}

/* ─────────────────────────────────────────────────────────────
   Reduced Motion
   ───────────────────────────────────────────────────────────── */

@media (prefers-reduced-motion: reduce) {
  [data-radix-navigation-menu-viewport],
  [data-radix-navigation-menu-content] {
    animation: none !important;
    transition: none !important;
  }
}
